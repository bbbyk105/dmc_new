/* ======================================================================
   globals.css — Tailwind v4 推奨構成（完全版）
   - ユーティリティが効かなくなる原因の「全要素リセット」を排除
   - ベース調整は @layer base、コンポーネント系は @layer components に集約
   - フォントは next/font 推奨（CSS 変数にバインドする想定のフォールバック付き）
   ====================================================================== */

/* Tailwind を最初に読み込む（base → components → utilities の順で出力） */
@import "tailwindcss";

/* ------------------------------
   デザイントークン（Tailwind v4 @theme）
   ------------------------------ */
@theme inline {
  /* カラーパレット */
  --color-primary: #8b7355;
  --color-primary-dark: #5a4a3a;
  --color-accent: #c9a97c;
  --color-background: #fefefe;
  --color-background-alt: #f5f1ed;
  --color-foreground: #333333;

  /* フォント（next/font の CSS 変数を使うのが理想。未設定時はフォールバック） */
  --font-serif: var(
    --font-crimson-text,
    "Crimson Text",
    ui-serif,
    Georgia,
    Cambria,
    "Times New Roman",
    Times,
    serif
  );
  --font-sans: var(
    --font-noto-sans-jp,
    "Noto Sans JP",
    ui-sans-serif,
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji",
    sans-serif
  );
}

/* ------------------------------
   Base レイヤー：初期化＆タグ単位のタイポ
   ------------------------------ */
@layer base {
  /* テーマ変数（ライト） */
  :root {
    --background: #fefefe;
    --foreground: #333333;
  }

  /* ダークモード変数（システム連動） */
  @media (prefers-color-scheme: dark) {
    :root {
      --background: #1a1a1a;
      --foreground: #ededed;
    }
  }

  /* box-sizing（Tailwind Preflight でも指定されるが、明示しておく） */
  *,
  ::before,
  ::after {
    box-sizing: border-box;
  }

  /* html/body の最小限のリセットのみ（全要素ゼロ化はしない） */
  html,
  body {
    margin: 0;
    padding: 0;
  }

  /* ベースの本文スタイル */
  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    line-height: 1.6;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 見出しのフォントだけ serif に */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-serif);
  }
}

/* ------------------------------
   Components レイヤー：再利用クラス
   ------------------------------ */
@layer components {
  .section-title {
    font-family: var(--font-serif);
    font-size: 3rem; /* 48px 相当 */
    font-weight: 700;
    color: var(--color-primary-dark);
    text-align: center;
    margin-bottom: 1rem; /* 16px */
    line-height: 1.2;
  }

  .section-subtitle {
    font-family: var(--font-sans);
    font-size: 0.875rem; /* 14px */
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--color-primary);
    text-align: center;
    margin-bottom: 3rem; /* 48px */
  }
}

/* ------------------------------
   Utilities レイヤー：小粒ユーティリティ
   ------------------------------ */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
